<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Human demographic models for `ramp.xds` • ramp.demog</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Human demographic models for `ramp.xds`">
<meta property="og:description" content="`ramp.demog` provides utilities and functions to set up human demographic models in `ramp.xds` including births, deaths, aging, and migration">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">ramp.demog</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/aging.html">Aging</a>
    </li>
  </ul>
</li>
<li>
  <a href="reference/index.html">Functions</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/dd-harp/ramp.demog/" class="external-link">
    <span class="fa fa-github"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="rampdemog">
<code>ramp.demog</code><a class="anchor" aria-label="anchor" href="#rampdemog"></a>
</h1></div>
<div class="section level2">
<h2 id="utilities-for-human-demography-and-orthogonal-stratification">Utilities for Human Demography and Orthogonal Stratification<a class="anchor" aria-label="anchor" href="#utilities-for-human-demography-and-orthogonal-stratification"></a>
</h2>
<p>The primary purpose of <code>ramp.demog</code> is to provide support for <code>ramp.xds</code> to build and solve models with human demography and stratification for epidemiological heterogeneity on age and other epidemiological traits.</p>
<p>The utilities in this package set up and configure:</p>
<ul>
<li>
<code>Hmatrix</code> a matrix, <span class="math inline">$\bf H,$</span> to compute all dynamical transitions among population strata, called by <code>dHdt</code> and for every state variable <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi><mo>,</mo></mrow><annotation encoding="application/x-tex">X,</annotation></semantics></math> it computes:</li>
</ul>
<p><span class="math display">$${\bf H} \cdot X$$</span></p>
<ul>
<li>
<code>Amatrix</code> a matrix, <span class="math inline">$\bf A,$</span> to compute dynamical transitions for tracking variables. For every tracking variable, <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>W</mi><mo>,</mo></mrow><annotation encoding="application/x-tex">W,</annotation></semantics></math> it computes</li>
</ul>
<p><span class="math display">$${\bf A} \cdot W$$</span></p>
<p>In this package, we have also developed a set of functions to check the accuracy of models that use age-stratification against a cohort model.</p>
<div class="section level3">
<h3 id="demography">Demography<a class="anchor" aria-label="anchor" href="#demography"></a>
</h3>
<p>Demographic functions supported include:</p>
<ul>
<li><p><strong>Aging</strong> - set up and solve models that stratify a population by age</p></li>
<li><p><strong>Age specific mortality</strong> - to develop models for age-specific mortality using data describing human populations by age</p></li>
<li><p><strong>Births</strong> - set up and solve models with a births; in age-structured models, into the class that includes newborns</p></li>
<li><p><strong>Migration</strong> - defined here to include a change of residence, including seasonal labor migration and some forms of nomadism</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="orthogonal-stratification">Orthogonal Stratification<a class="anchor" aria-label="anchor" href="#orthogonal-stratification"></a>
</h3>
<p>To support development of models for malaria policy, we have also developed a set of utilities to <em>stratify</em> a population along other traits. To set up and solve models with dynamical strata, we have implemented a method we call <em>principled stratification</em> that defines a subset of all possible models. In a nutshell, we create one matrix for each process. For example:</p>
<ol style="list-style-type: decimal">
<li>A matrix describing residence and time spent;</li>
<li>A matrix describing migration among patches;</li>
<li>A matrix describing aging among age classes</li>
</ol>
<p>In the set up, each stratum belongs to a residence and time spent matrix. In the next step, we develop a migration matrix, where every resident of a patch has the same probability of migrating to every other patch. Next, we split each stratum by age; every daughter stratum inherits the features of its parent stratum. The total number of strata is the product of the number of substrata for each trait. In this case, migration does not split so we have the product of the number of strata along a time spent vector.</p>
<p>Setup thus outputs a generalized linear matrix <code>dHdt</code> describing demography and dynamic transitions among strata. We also have a matrix <code>dAdt</code> that describes aging (for tracking variables).</p>
<p>We note that it is possible to formulate and run a model with any matrix, <code>Hmatrix</code>, so long as it has the right shape.</p>
<p>For example, suppose we have a <code>residence</code> vector <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>,</mo><mn>1</mn><mo>,</mo><mn>2</mn><mo>,</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">1, 1, 2, 3</annotation></semantics></math> on <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>3</mn><annotation encoding="application/x-tex">3</annotation></semantics></math> patches with a migration matrix <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>M</mi><annotation encoding="application/x-tex">M</annotation></semantics></math> and the residence matrix <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>J</mi><mi>r</mi></msub><annotation encoding="application/x-tex">J_r</annotation></semantics></math>, and we have two age classes, <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>,</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">1,2</annotation></semantics></math> with an aging matrix <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math>. There are a total of <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mn>8</mn><annotation encoding="application/x-tex">8</annotation></semantics></math> strata, but <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>M</mi><annotation encoding="application/x-tex">M</annotation></semantics></math> is a <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo>×</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">3 \times 3</annotation></semantics></math> matrix and <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>A</mi><annotation encoding="application/x-tex">A</annotation></semantics></math> is a <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mo>×</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">2 \times 2</annotation></semantics></math> matrix. We formulate the membership matrix for aging, <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>J</mi><mi>a</mi></msub><annotation encoding="application/x-tex">J_a</annotation></semantics></math> and full matrix by taking:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>J</mi><mi>a</mi><mi>T</mi></msubsup><mo>⋅</mo><mi>A</mi><mo>⋅</mo><msub><mi>J</mi><mi>a</mi></msub><mo>+</mo><msubsup><mi>J</mi><mi>r</mi><mi>T</mi></msubsup><mo>⋅</mo><mi>M</mi><mo>⋅</mo><msub><mi>J</mi><mi>r</mi></msub></mrow><annotation encoding="application/x-tex">
J_a^T \cdot A \cdot J_a +  J_r^T \cdot M \cdot J_ r
</annotation></semantics></math></p>
<p>At some point, <code>ramp.xds</code> made the decision to compute the derivative <code>dHdt</code> for human population density. In compartment models, a population is sub-divided into <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>N</mi><annotation encoding="application/x-tex">N</annotation></semantics></math> mutually exclusive and collectively exhaustive states (MECE), but since the state variables describe densities and they sum up to <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>H</mi><mo>,</mo></mrow><annotation encoding="application/x-tex">H,</annotation></semantics></math> only <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">N-1</annotation></semantics></math> of the state variables need to be computed. We also adopted the convention that the compartment that would be omitted is the state with newborns.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing ramp.demog</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>David L. Smith <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-4367-3849" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by David L. Smith.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer>
</div>






  </body>
</html>
